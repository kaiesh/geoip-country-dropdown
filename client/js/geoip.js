(function(imports){
  let d=[{option_id:"AF",option_value:"AFGHANISTAN"},{option_id:"AL",option_value:"ALBANIA"},{option_id:"DZ",option_value:"ALGERIA"},{option_id:"AS",option_value:"AMERICAN SAMOA"},{option_id:"AD",option_value:"ANDORRA"},{option_id:"AO",option_value:"ANGOLA"},{option_id:"AI",option_value:"ANGUILLA"},{option_id:"AQ",option_value:"ANTARCTICA"},{option_id:"AG",option_value:"ANTIGUA AND BARBUDA"},{option_id:"AR",option_value:"ARGENTINA"},{option_id:"AM",option_value:"ARMENIA"},{option_id:"AW",option_value:"ARUBA"},{option_id:"AU",option_value:"AUSTRALIA"},{option_id:"AT",option_value:"AUSTRIA"},{option_id:"AZ",option_value:"AZERBAIJAN"},{option_id:"BS",option_value:"BAHAMAS"},{option_id:"BH",option_value:"BAHRAIN"},{option_id:"BD",option_value:"BANGLADESH"},{option_id:"BB",option_value:"BARBADOS"},{option_id:"BY",option_value:"BELARUS"},{option_id:"BE",option_value:"BELGIUM"},{option_id:"BZ",option_value:"BELIZE"},{option_id:"BJ",option_value:"BENIN"},{option_id:"BM",option_value:"BERMUDA"},{option_id:"BT",option_value:"BHUTAN"},{option_id:"BO",option_value:"BOLIVIA"},{option_id:"BA",option_value:"BOSNIA AND HERZEGOVINA"},{option_id:"BW",option_value:"BOTSWANA"},{option_id:"BR",option_value:"BRAZIL"},{option_id:"BN",option_value:"BRUNEI DARUSSALAM"},{option_id:"BG",option_value:"BULGARIA"},{option_id:"BF",option_value:"BURKINA FASO"},{option_id:"BI",option_value:"BURUNDI"},{option_id:"KH",option_value:"CAMBODIA"},{option_id:"CM",option_value:"CAMEROON"},{option_id:"CA",option_value:"CANADA"},{option_id:"CV",option_value:"CAPE VERDE"},{option_id:"KY",option_value:"CAYMAN ISLANDS"},{option_id:"CF",option_value:"CENTRAL AFRICAN REPUBLIC"},{option_id:"TD",option_value:"CHAD"},{option_id:"CL",option_value:"CHILE"},{option_id:"CN",option_value:"CHINA"},{option_id:"CX",option_value:"CHRISTMAS ISLAND"},{option_id:"CC",option_value:"COCOS (KEELING) ISLANDS"},{option_id:"CO",option_value:"COLOMBIA"},{option_id:"KM",option_value:"COMOROS"},{option_id:"CG",option_value:"CONGO"},{option_id:"CD",option_value:"CONGO, THE DEMOCRATIC REPUBLIC OF THE"},{option_id:"CK",option_value:"COOK ISLANDS"},{option_id:"CR",option_value:"COSTA RICA"},{option_id:"CI",option_value:"COTE D IVOIRE"},{option_id:"HR",option_value:"CROATIA"},{option_id:"CU",option_value:"CUBA"},{option_id:"CY",option_value:"CYPRUS"},{option_id:"CZ",option_value:"CZECH REPUBLIC"},{option_id:"DK",option_value:"DENMARK"},{option_id:"DJ",option_value:"DJIBOUTI"},{option_id:"DM",option_value:"DOMINICA"},{option_id:"DO",option_value:"DOMINICAN REPUBLIC"},{option_id:"EC",option_value:"ECUADOR"},{option_id:"EG",option_value:"EGYPT"},{option_id:"SV",option_value:"EL SALVADOR"},{option_id:"GQ",option_value:"EQUATORIAL GUINEA"},{option_id:"ER",option_value:"ERITREA"},{option_id:"EE",option_value:"ESTONIA"},{option_id:"ET",option_value:"ETHIOPIA"},{option_id:"FK",option_value:"FALKLAND ISLANDS (MALVINAS)"},{option_id:"FO",option_value:"FAROE ISLANDS"},{option_id:"FJ",option_value:"FIJI"},{option_id:"FI",option_value:"FINLAND"},{option_id:"FR",option_value:"FRANCE"},{option_id:"PF",option_value:"FRENCH POLYNESIA"},{option_id:"GA",option_value:"GABON"},{option_id:"GM",option_value:"GAMBIA"},{option_id:"GE",option_value:"GEORGIA"},{option_id:"DE",option_value:"GERMANY"},{option_id:"GH",option_value:"GHANA"},{option_id:"GI",option_value:"GIBRALTAR"},{option_id:"GR",option_value:"GREECE"},{option_id:"GL",option_value:"GREENLAND"},{option_id:"GD",option_value:"GRENADA"},{option_id:"GU",option_value:"GUAM"},{option_id:"GT",option_value:"GUATEMALA"},{option_id:"GN",option_value:"GUINEA"},{option_id:"GW",option_value:"GUINEA-BISSAU"},{option_id:"GY",option_value:"GUYANA"},{option_id:"HT",option_value:"HAITI"},{option_id:"VA",option_value:"HOLY SEE (VATICAN CITY STATE)"},{option_id:"HN",option_value:"HONDURAS"},{option_id:"HK",option_value:"HONG KONG"},{option_id:"HU",option_value:"HUNGARY"},{option_id:"IS",option_value:"ICELAND"},{option_id:"IN",option_value:"INDIA"},{option_id:"ID",option_value:"INDONESIA"},{option_id:"IR",option_value:"IRAN, ISLAMIC REPUBLIC OF"},{option_id:"IQ",option_value:"IRAQ"},{option_id:"IE",option_value:"IRELAND"},{option_id:"IM",option_value:"ISLE OF MAN"},{option_id:"IL",option_value:"ISRAEL"},{option_id:"IT",option_value:"ITALY"},{option_id:"JM",option_value:"JAMAICA"},{option_id:"JP",option_value:"JAPAN"},{option_id:"JO",option_value:"JORDAN"},{option_id:"KZ",option_value:"KAZAKSTAN"},{option_id:"KE",option_value:"KENYA"},{option_id:"KI",option_value:"KIRIBATI"},{option_id:"KP",option_value:"KOREA DEMOCRATIC PEOPLES REPUBLIC OF"},{option_id:"KR",option_value:"KOREA REPUBLIC OF"},{option_id:"XK",option_value:"KOSOVO"},{option_id:"KW",option_value:"KUWAIT"},{option_id:"KG",option_value:"KYRGYZSTAN"},{option_id:"LA",option_value:"LAO PEOPLES DEMOCRATIC REPUBLIC"},{option_id:"LV",option_value:"LATVIA"},{option_id:"LB",option_value:"LEBANON"},{option_id:"LS",option_value:"LESOTHO"},{option_id:"LR",option_value:"LIBERIA"},{option_id:"LY",option_value:"LIBYAN ARAB JAMAHIRIYA"},{option_id:"LI",option_value:"LIECHTENSTEIN"},{option_id:"LT",option_value:"LITHUANIA"},{option_id:"LU",option_value:"LUXEMBOURG"},{option_id:"MO",option_value:"MACAU"},{option_id:"MK",option_value:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF"},{option_id:"MG",option_value:"MADAGASCAR"},{option_id:"MW",option_value:"MALAWI"},{option_id:"MY",option_value:"MALAYSIA"},{option_id:"MV",option_value:"MALDIVES"},{option_id:"ML",option_value:"MALI"},{option_id:"MT",option_value:"MALTA"},{option_id:"MH",option_value:"MARSHALL ISLANDS"},{option_id:"MR",option_value:"MAURITANIA"},{option_id:"MU",option_value:"MAURITIUS"},{option_id:"YT",option_value:"MAYOTTE"},{option_id:"MX",option_value:"MEXICO"},{option_id:"FM",option_value:"MICRONESIA, FEDERATED STATES OF"},{option_id:"MD",option_value:"MOLDOVA, REPUBLIC OF"},{option_id:"MC",option_value:"MONACO"},{option_id:"MN",option_value:"MONGOLIA"},{option_id:"ME",option_value:"MONTENEGRO"},{option_id:"MS",option_value:"MONTSERRAT"},{option_id:"MA",option_value:"MOROCCO"},{option_id:"MZ",option_value:"MOZAMBIQUE"},{option_id:"MM",option_value:"MYANMAR"},{option_id:"NA",option_value:"NAMIBIA"},{option_id:"NR",option_value:"NAURU"},{option_id:"NP",option_value:"NEPAL"},{option_id:"NL",option_value:"NETHERLANDS"},{option_id:"AN",option_value:"NETHERLANDS ANTILLES"},{option_id:"NC",option_value:"NEW CALEDONIA"},{option_id:"NZ",option_value:"NEW ZEALAND"},{option_id:"NI",option_value:"NICARAGUA"},{option_id:"NE",option_value:"NIGER"},{option_id:"NG",option_value:"NIGERIA"},{option_id:"NU",option_value:"NIUE"},{option_id:"MP",option_value:"NORTHERN MARIANA ISLANDS"},{option_id:"NO",option_value:"NORWAY"},{option_id:"OM",option_value:"OMAN"},{option_id:"PK",option_value:"PAKISTAN"},{option_id:"PW",option_value:"PALAU"},{option_id:"PA",option_value:"PANAMA"},{option_id:"PG",option_value:"PAPUA NEW GUINEA"},{option_id:"PY",option_value:"PARAGUAY"},{option_id:"PE",option_value:"PERU"},{option_id:"PH",option_value:"PHILIPPINES"},{option_id:"PN",option_value:"PITCAIRN"},{option_id:"PL",option_value:"POLAND"},{option_id:"PT",option_value:"PORTUGAL"},{option_id:"PR",option_value:"PUERTO RICO"},{option_id:"QA",option_value:"QATAR"},{option_id:"RO",option_value:"ROMANIA"},{option_id:"RU",option_value:"RUSSIAN FEDERATION"},{option_id:"RW",option_value:"RWANDA"},{option_id:"BL",option_value:"SAINT BARTHELEMY"},{option_id:"SH",option_value:"SAINT HELENA"},{option_id:"KN",option_value:"SAINT KITTS AND NEVIS"},{option_id:"LC",option_value:"SAINT LUCIA"},{option_id:"MF",option_value:"SAINT MARTIN"},{option_id:"PM",option_value:"SAINT PIERRE AND MIQUELON"},{option_id:"VC",option_value:"SAINT VINCENT AND THE GRENADINES"},{option_id:"WS",option_value:"SAMOA"},{option_id:"SM",option_value:"SAN MARINO"},{option_id:"ST",option_value:"SAO TOME AND PRINCIPE"},{option_id:"SA",option_value:"SAUDI ARABIA"},{option_id:"SN",option_value:"SENEGAL"},{option_id:"RS",option_value:"SERBIA"},{option_id:"SC",option_value:"SEYCHELLES"},{option_id:"SL",option_value:"SIERRA LEONE"},{option_id:"SG",option_value:"SINGAPORE"},{option_id:"SK",option_value:"SLOVAKIA"},{option_id:"SI",option_value:"SLOVENIA"},{option_id:"SB",option_value:"SOLOMON ISLANDS"},{option_id:"SO",option_value:"SOMALIA"},{option_id:"ZA",option_value:"SOUTH AFRICA"},{option_id:"ES",option_value:"SPAIN"},{option_id:"LK",option_value:"SRI LANKA"},{option_id:"SD",option_value:"SUDAN"},{option_id:"SR",option_value:"SURINAME"},{option_id:"SZ",option_value:"SWAZILAND"},{option_id:"SE",option_value:"SWEDEN"},{option_id:"CH",option_value:"SWITZERLAND"},{option_id:"SY",option_value:"SYRIAN ARAB REPUBLIC"},{option_id:"TW",option_value:"TAIWAN, PROVINCE OF CHINA"},{option_id:"TJ",option_value:"TAJIKISTAN"},{option_id:"TZ",option_value:"TANZANIA, UNITED REPUBLIC OF"},{option_id:"TH",option_value:"THAILAND"},{option_id:"TL",option_value:"TIMOR-LESTE"},{option_id:"TG",option_value:"TOGO"},{option_id:"TK",option_value:"TOKELAU"},{option_id:"TO",option_value:"TONGA"},{option_id:"TT",option_value:"TRINIDAD AND TOBAGO"},{option_id:"TN",option_value:"TUNISIA"},{option_id:"TR",option_value:"TURKEY"},{option_id:"TM",option_value:"TURKMENISTAN"},{option_id:"TC",option_value:"TURKS AND CAICOS ISLANDS"},{option_id:"TV",option_value:"TUVALU"},{option_id:"UG",option_value:"UGANDA"},{option_id:"UA",option_value:"UKRAINE"},{option_id:"AE",option_value:"UNITED ARAB EMIRATES"},{option_id:"GB",option_value:"UNITED KINGDOM"},{option_id:"US",option_value:"UNITED STATES"},{option_id:"UY",option_value:"URUGUAY"},{option_id:"UZ",option_value:"UZBEKISTAN"},{option_id:"VU",option_value:"VANUATU"},{option_id:"VE",option_value:"VENEZUELA"},{option_id:"VN",option_value:"VIET NAM"},{option_id:"VG",option_value:"VIRGIN ISLANDS, BRITISH"},{option_id:"VI",option_value:"VIRGIN ISLANDS, U.S."},{option_id:"WF",option_value:"WALLIS AND FUTUNA"},{option_id:"YE",option_value:"YEMEN"},{option_id:"ZM",option_value:"ZAMBIA"},{option_id:"ZW",option_value:"ZIMBABWE"}];

  //Yay, Emoji flags!
  let ccodes = {"AF":{"prefix":"93","flag":"ðŸ‡¦ðŸ‡«"},"AL":{"prefix":"355","flag":"ðŸ‡¦ðŸ‡±"},"DZ":{"prefix":"213","flag":"ðŸ‡©ðŸ‡¿"},"AS":{"prefix":"1-684","flag":"ðŸ‡¦ðŸ‡¸"},"AD":{"prefix":"376","flag":"ðŸ‡¦ðŸ‡©"},"AO":{"prefix":"244","flag":"ðŸ‡¦ðŸ‡´"},"AI":{"prefix":"1-264","flag":"ðŸ‡¦ðŸ‡®"},"AQ":{"prefix":"672","flag":"ðŸ‡¦ðŸ‡¶"},"AG":{"prefix":"1-268","flag":"ðŸ‡¦ðŸ‡¬"},"AR":{"prefix":"54","flag":"ðŸ‡¦ðŸ‡·"},"AM":{"prefix":"374","flag":"ðŸ‡¦ðŸ‡²"},"AW":{"prefix":"297","flag":"ðŸ‡¦ðŸ‡¼"},"AU":{"prefix":"61","flag":"ðŸ‡¦ðŸ‡º"},"AT":{"prefix":"43","flag":"ðŸ‡¦ðŸ‡¹"},"AZ":{"prefix":"994","flag":"ðŸ‡¦ðŸ‡¿"},"BS":{"prefix":"1-242","flag":"ðŸ‡§ðŸ‡¸"},"BH":{"prefix":"973","flag":"ðŸ‡§ðŸ‡­"},"BD":{"prefix":"880","flag":"ðŸ‡§ðŸ‡©"},"BB":{"prefix":"1-246","flag":"ðŸ‡§ðŸ‡§"},"BY":{"prefix":"375","flag":"ðŸ‡§ðŸ‡¾"},"BE":{"prefix":"32","flag":"ðŸ‡§ðŸ‡ª"},"BZ":{"prefix":"501","flag":"ðŸ‡§ðŸ‡¿"},"BJ":{"prefix":"229","flag":"ðŸ‡§ðŸ‡¯"},"BM":{"prefix":"1-441","flag":"ðŸ‡§ðŸ‡²"},"BT":{"prefix":"975","flag":"ðŸ‡§ðŸ‡¹"},"BO":{"prefix":"591","flag":"ðŸ‡§ðŸ‡´"},"BA":{"prefix":"387","flag":"ðŸ‡§ðŸ‡¦"},"BW":{"prefix":"267","flag":"ðŸ‡§ðŸ‡¼"},"BR":{"prefix":"55","flag":"ðŸ‡§ðŸ‡·"},"BN":{"prefix":"673","flag":"ðŸ‡§ðŸ‡³"},"BG":{"prefix":"359","flag":"ðŸ‡§ðŸ‡¬"},"BF":{"prefix":"226","flag":"ðŸ‡§ðŸ‡«"},"BI":{"prefix":"257","flag":"ðŸ‡§ðŸ‡®"},"KH":{"prefix":"855","flag":"ðŸ‡°ðŸ‡­"},"CM":{"prefix":"237","flag":"ðŸ‡¨ðŸ‡²"},"CA":{"prefix":"1","flag":"ðŸ‡¨ðŸ‡¦"},"CV":{"prefix":"238","flag":"ðŸ‡¨ðŸ‡»"},"KY":{"prefix":"1-345","flag":"ðŸ‡°ðŸ‡¾"},"CF":{"prefix":"236","flag":"ðŸ‡¨ðŸ‡«"},"TD":{"prefix":"235","flag":"ðŸ‡¹ðŸ‡©"},"CL":{"prefix":"56","flag":"ðŸ‡¨ðŸ‡±"},"CN":{"prefix":"86","flag":"ðŸ‡¨ðŸ‡³"},"CX":{"prefix":"61","flag":"ðŸ‡¨ðŸ‡½"},"CC":{"prefix":"61","flag":"ðŸ‡¨ðŸ‡¨"},"CO":{"prefix":"57","flag":"ðŸ‡¨ðŸ‡´"},"KM":{"prefix":"269","flag":"ðŸ‡°ðŸ‡²"},"CG":{"prefix":"242","flag":"ðŸ‡¨ðŸ‡¬"},"CD":{"prefix":"243","flag":"ðŸ‡¨ðŸ‡©"},"CK":{"prefix":"682","flag":"ðŸ‡¨ðŸ‡°"},"CR":{"prefix":"506","flag":"ðŸ‡¨ðŸ‡·"},"CI":{"prefix":"225","flag":"ðŸ‡¨ðŸ‡®"},"HR":{"prefix":"385","flag":"ðŸ‡­ðŸ‡·"},"CU":{"prefix":"53","flag":"ðŸ‡¨ðŸ‡º"},"CY":{"prefix":"357","flag":"ðŸ‡¨ðŸ‡¾"},"CZ":{"prefix":"420","flag":"ðŸ‡¨ðŸ‡¿"},"DK":{"prefix":"45","flag":"ðŸ‡©ðŸ‡°"},"DJ":{"prefix":"253","flag":"ðŸ‡©ðŸ‡¯"},"DM":{"prefix":"1-767","flag":"ðŸ‡©ðŸ‡²"},"DO":{"prefix":"1-809, 1-829, 1-849","flag":"ðŸ‡©ðŸ‡´"},"EC":{"prefix":"593","flag":"ðŸ‡ªðŸ‡¨"},"EG":{"prefix":"20","flag":"ðŸ‡ªðŸ‡¬"},"SV":{"prefix":"503","flag":"ðŸ‡¸ðŸ‡»"},"GQ":{"prefix":"240","flag":"ðŸ‡¬ðŸ‡¶"},"ER":{"prefix":"291","flag":"ðŸ‡ªðŸ‡·"},"EE":{"prefix":"372","flag":"ðŸ‡ªðŸ‡ª"},"ET":{"prefix":"251","flag":"ðŸ‡ªðŸ‡¹"},"FK":{"prefix":"500","flag":"ðŸ‡«ðŸ‡°"},"FO":{"prefix":"298","flag":"ðŸ‡«ðŸ‡´"},"FJ":{"prefix":"679","flag":"ðŸ‡«ðŸ‡¯"},"FI":{"prefix":"358","flag":"ðŸ‡«ðŸ‡®"},"FR":{"prefix":"33","flag":"ðŸ‡«ðŸ‡·"},"PF":{"prefix":"689","flag":"ðŸ‡µðŸ‡«"},"GA":{"prefix":"241","flag":"ðŸ‡¬ðŸ‡¦"},"GM":{"prefix":"220","flag":"ðŸ‡¬ðŸ‡²"},"GE":{"prefix":"995","flag":"ðŸ‡¬ðŸ‡ª"},"DE":{"prefix":"49","flag":"ðŸ‡©ðŸ‡ª"},"GH":{"prefix":"233","flag":"ðŸ‡¬ðŸ‡­"},"GI":{"prefix":"350","flag":"ðŸ‡¬ðŸ‡®"},"GR":{"prefix":"30","flag":"ðŸ‡¬ðŸ‡·"},"GL":{"prefix":"299","flag":"ðŸ‡¬ðŸ‡±"},"GD":{"prefix":"1-473","flag":"ðŸ‡¬ðŸ‡©"},"GU":{"prefix":"1-671","flag":"ðŸ‡¬ðŸ‡º"},"GT":{"prefix":"502","flag":"ðŸ‡¬ðŸ‡¹"},"GN":{"prefix":"224","flag":"ðŸ‡¬ðŸ‡³"},"GW":{"prefix":"245","flag":"ðŸ‡¬ðŸ‡¼"},"GY":{"prefix":"592","flag":"ðŸ‡¬ðŸ‡¾"},"HT":{"prefix":"509","flag":"ðŸ‡­ðŸ‡¹"},"VA":{"prefix":"379","flag":"ðŸ‡»ðŸ‡¦"},"HN":{"prefix":"504","flag":"ðŸ‡­ðŸ‡³"},"HK":{"prefix":"852","flag":"ðŸ‡­ðŸ‡°"},"HU":{"prefix":"36","flag":"ðŸ‡­ðŸ‡º"},"IS":{"prefix":"354","flag":"ðŸ‡®ðŸ‡¸"},"IN":{"prefix":"91","flag":"ðŸ‡®ðŸ‡³"},"ID":{"prefix":"62","flag":"ðŸ‡®ðŸ‡©"},"IR":{"prefix":"98","flag":"ðŸ‡®ðŸ‡·"},"IQ":{"prefix":"964","flag":"ðŸ‡®ðŸ‡¶"},"IE":{"prefix":"353","flag":"ðŸ‡®ðŸ‡ª"},"IM":{"prefix":"44-1624","flag":"ðŸ‡®ðŸ‡²"},"IL":{"prefix":"972","flag":"ðŸ‡®ðŸ‡±"},"IT":{"prefix":"39","flag":"ðŸ‡®ðŸ‡¹"},"JM":{"prefix":"1-876","flag":"ðŸ‡¯ðŸ‡²"},"JP":{"prefix":"81","flag":"ðŸ‡¯ðŸ‡µ"},"JO":{"prefix":"962","flag":"ðŸ‡¯ðŸ‡´"},"KZ":{"prefix":"7","flag":"ðŸ‡°ðŸ‡¿"},"KE":{"prefix":"254","flag":"ðŸ‡°ðŸ‡ª"},"KI":{"prefix":"686","flag":"ðŸ‡°ðŸ‡®"},"KP":{"prefix":"850","flag":"ðŸ‡°ðŸ‡µ"},"KR":{"prefix":"82","flag":"ðŸ‡°ðŸ‡·"},"XK":{"prefix":"383","flag":"ðŸ‡½ðŸ‡°"},"KW":{"prefix":"965","flag":"ðŸ‡°ðŸ‡¼"},"KG":{"prefix":"996","flag":"ðŸ‡°ðŸ‡¬"},"LA":{"prefix":"856","flag":"ðŸ‡±ðŸ‡¦"},"LV":{"prefix":"371","flag":"ðŸ‡±ðŸ‡»"},"LB":{"prefix":"961","flag":"ðŸ‡±ðŸ‡§"},"LS":{"prefix":"266","flag":"ðŸ‡±ðŸ‡¸"},"LR":{"prefix":"231","flag":"ðŸ‡±ðŸ‡·"},"LY":{"prefix":"218","flag":"ðŸ‡±ðŸ‡¾"},"LI":{"prefix":"423","flag":"ðŸ‡±ðŸ‡®"},"LT":{"prefix":"370","flag":"ðŸ‡±ðŸ‡¹"},"LU":{"prefix":"352","flag":"ðŸ‡±ðŸ‡º"},"MO":{"prefix":"853","flag":"ðŸ‡²ðŸ‡´"},"MK":{"prefix":"389","flag":"ðŸ‡²ðŸ‡°"},"MG":{"prefix":"261","flag":"ðŸ‡²ðŸ‡¬"},"MW":{"prefix":"265","flag":"ðŸ‡²ðŸ‡¼"},"MY":{"prefix":"60","flag":"ðŸ‡²ðŸ‡¾"},"MV":{"prefix":"960","flag":"ðŸ‡²ðŸ‡»"},"ML":{"prefix":"223","flag":"ðŸ‡²ðŸ‡±"},"MT":{"prefix":"356","flag":"ðŸ‡²ðŸ‡¹"},"MH":{"prefix":"692","flag":"ðŸ‡²ðŸ‡­"},"MR":{"prefix":"222","flag":"ðŸ‡²ðŸ‡·"},"MU":{"prefix":"230","flag":"ðŸ‡²ðŸ‡º"},"YT":{"prefix":"262","flag":"ðŸ‡¾ðŸ‡¹"},"MX":{"prefix":"52","flag":"ðŸ‡²ðŸ‡½"},"FM":{"prefix":"691","flag":"ðŸ‡«ðŸ‡²"},"MD":{"prefix":"373","flag":"ðŸ‡²ðŸ‡©"},"MC":{"prefix":"377","flag":"ðŸ‡²ðŸ‡¨"},"MN":{"prefix":"976","flag":"ðŸ‡²ðŸ‡³"},"ME":{"prefix":"382","flag":"ðŸ‡²ðŸ‡ª"},"MS":{"prefix":"1-664","flag":"ðŸ‡²ðŸ‡¸"},"MA":{"prefix":"212","flag":"ðŸ‡²ðŸ‡¦"},"MZ":{"prefix":"258","flag":"ðŸ‡²ðŸ‡¿"},"MM":{"prefix":"95","flag":"ðŸ‡²ðŸ‡²"},"NA":{"prefix":"264","flag":"ðŸ‡³ðŸ‡¦"},"NR":{"prefix":"674","flag":"ðŸ‡³ðŸ‡·"},"NP":{"prefix":"977","flag":"ðŸ‡³ðŸ‡µ"},"NL":{"prefix":"31","flag":"ðŸ‡³ðŸ‡±"},"AN":{"prefix":"599","flag":"ðŸ‡§ðŸ‡¶"},"NC":{"prefix":"687","flag":"ðŸ‡³ðŸ‡¨"},"NZ":{"prefix":"64","flag":"ðŸ‡³ðŸ‡¿"},"NI":{"prefix":"505","flag":"ðŸ‡³ðŸ‡®"},"NE":{"prefix":"227","flag":"ðŸ‡³ðŸ‡ª"},"NG":{"prefix":"234","flag":"ðŸ‡³ðŸ‡¬"},"NU":{"prefix":"683","flag":"ðŸ‡³ðŸ‡º"},"MP":{"prefix":"1-670","flag":"ðŸ‡²ðŸ‡µ"},"NO":{"prefix":"47","flag":"ðŸ‡³ðŸ‡´"},"OM":{"prefix":"968","flag":"ðŸ‡´ðŸ‡²"},"PK":{"prefix":"92","flag":"ðŸ‡µðŸ‡°"},"PW":{"prefix":"680","flag":"ðŸ‡µðŸ‡¼"},"PA":{"prefix":"507","flag":"ðŸ‡µðŸ‡¦"},"PG":{"prefix":"675","flag":"ðŸ‡µðŸ‡¬"},"PY":{"prefix":"595","flag":"ðŸ‡µðŸ‡¾"},"PE":{"prefix":"51","flag":"ðŸ‡µðŸ‡ª"},"PH":{"prefix":"63","flag":"ðŸ‡µðŸ‡­"},"PN":{"prefix":"64","flag":"ðŸ‡µðŸ‡³"},"PL":{"prefix":"48","flag":"ðŸ‡µðŸ‡±"},"PT":{"prefix":"351","flag":"ðŸ‡µðŸ‡¹"},"PR":{"prefix":"1-787, 1-939","flag":"ðŸ‡µðŸ‡·"},"QA":{"prefix":"974","flag":"ðŸ‡¶ðŸ‡¦"},"RO":{"prefix":"40","flag":"ðŸ‡·ðŸ‡´"},"RU":{"prefix":"7","flag":"ðŸ‡·ðŸ‡º"},"RW":{"prefix":"250","flag":"ðŸ‡·ðŸ‡¼"},"BL":{"prefix":"590","flag":"ðŸ‡§ðŸ‡±"},"SH":{"prefix":"290","flag":"ðŸ‡¸ðŸ‡­"},"KN":{"prefix":"1-869","flag":"ðŸ‡°ðŸ‡³"},"LC":{"prefix":"1-758","flag":"ðŸ‡±ðŸ‡¨"},"MF":{"prefix":"590","flag":"ðŸ‡²ðŸ‡«"},"PM":{"prefix":"508","flag":"ðŸ‡µðŸ‡²"},"VC":{"prefix":"1-784","flag":"ðŸ‡»ðŸ‡¨"},"WS":{"prefix":"685","flag":"ðŸ‡¼ðŸ‡¸"},"SM":{"prefix":"378","flag":"ðŸ‡¸ðŸ‡²"},"ST":{"prefix":"239","flag":"ðŸ‡¸ðŸ‡¹"},"SA":{"prefix":"966","flag":"ðŸ‡¸ðŸ‡¦"},"SN":{"prefix":"221","flag":"ðŸ‡¸ðŸ‡³"},"RS":{"prefix":"381","flag":"ðŸ‡·ðŸ‡¸"},"SC":{"prefix":"248","flag":"ðŸ‡¸ðŸ‡¨"},"SL":{"prefix":"232","flag":"ðŸ‡¸ðŸ‡±"},"SG":{"prefix":"65","flag":"ðŸ‡¸ðŸ‡¬"},"SK":{"prefix":"421","flag":"ðŸ‡¸ðŸ‡°"},"SI":{"prefix":"386","flag":"ðŸ‡¸ðŸ‡®"},"SB":{"prefix":"677","flag":"ðŸ‡¸ðŸ‡§"},"SO":{"prefix":"252","flag":"ðŸ‡¸ðŸ‡´"},"ZA":{"prefix":"27","flag":"ðŸ‡¿ðŸ‡¦"},"ES":{"prefix":"34","flag":"ðŸ‡ªðŸ‡¸"},"LK":{"prefix":"94","flag":"ðŸ‡±ðŸ‡°"},"SD":{"prefix":"249","flag":"ðŸ‡¸ðŸ‡©"},"SR":{"prefix":"597","flag":"ðŸ‡¸ðŸ‡·"},"SZ":{"prefix":"268","flag":"ðŸ‡¸ðŸ‡¿"},"SE":{"prefix":"46","flag":"ðŸ‡¸ðŸ‡ª"},"CH":{"prefix":"41","flag":"ðŸ‡¨ðŸ‡­"},"SY":{"prefix":"963","flag":"ðŸ‡¸ðŸ‡¾"},"TW":{"prefix":"886","flag":"ðŸ‡¹ðŸ‡¼"},"TJ":{"prefix":"992","flag":"ðŸ‡¹ðŸ‡¯"},"TZ":{"prefix":"255","flag":"ðŸ‡¹ðŸ‡¿"},"TH":{"prefix":"66","flag":"ðŸ‡¹ðŸ‡­"},"TL":{"prefix":"670","flag":"ðŸ‡¹ðŸ‡±"},"TG":{"prefix":"228","flag":"ðŸ‡¹ðŸ‡¬"},"TK":{"prefix":"690","flag":"ðŸ‡¹ðŸ‡°"},"TO":{"prefix":"676","flag":"ðŸ‡¹ðŸ‡´"},"TT":{"prefix":"1-868","flag":"ðŸ‡¹ðŸ‡¹"},"TN":{"prefix":"216","flag":"ðŸ‡¹ðŸ‡³"},"TR":{"prefix":"90","flag":"ðŸ‡¹ðŸ‡·"},"TM":{"prefix":"993","flag":"ðŸ‡¹ðŸ‡²"},"TC":{"prefix":"1-649","flag":"ðŸ‡¹ðŸ‡¨"},"TV":{"prefix":"688","flag":"ðŸ‡¹ðŸ‡»"},"UG":{"prefix":"256","flag":"ðŸ‡ºðŸ‡¬"},"UA":{"prefix":"380","flag":"ðŸ‡ºðŸ‡¦"},"AE":{"prefix":"971","flag":"ðŸ‡¦ðŸ‡ª"},"GB":{"prefix":"44","flag":"ðŸ‡¬ðŸ‡§"},"US":{"prefix":"1","flag":"ðŸ‡ºðŸ‡¸"},"UY":{"prefix":"598","flag":"ðŸ‡ºðŸ‡¾"},"UZ":{"prefix":"998","flag":"ðŸ‡ºðŸ‡¿"},"VU":{"prefix":"678","flag":"ðŸ‡»ðŸ‡º"},"VE":{"prefix":"58","flag":"ðŸ‡»ðŸ‡ª"},"VN":{"prefix":"84","flag":"ðŸ‡»ðŸ‡³"},"VG":{"prefix":"1-284","flag":"ðŸ‡»ðŸ‡¬"},"VI":{"prefix":"1-340","flag":"ðŸ‡»ðŸ‡®"},"WF":{"prefix":"681","flag":"ðŸ‡¼ðŸ‡«"},"YE":{"prefix":"967","flag":"ðŸ‡¾ðŸ‡ª"},"ZM":{"prefix":"260","flag":"ðŸ‡¿ðŸ‡²"},"ZW":{"prefix":"263","flag":"ðŸ‡¿ðŸ‡¼"}};

    var capitalise_first_char_every_word = function (str){
    let word_arr = str.split(" ");
    let final_str = "";
    for (let i=0; i < word_arr.length; i++){
      final_str += (i > 0 ? " " : "") +  word_arr[i].charAt(0).toLocaleUpperCase()+word_arr[i].slice(1).toLocaleLowerCase();
    }
    return final_str;
  }

  //Write the options into the DOM
  let h=document.getElementById("country");
  for(var b=0;b<d.length;b++){
    let cc = d[b].option_id;
    var e=document.createElement("OPTION");
    e.value = cc;
    e.innerHTML = ccodes[cc]["flag"]+"+"+ccodes[cc]["prefix"]+"&nbsp;&nbsp;"+capitalise_first_char_every_word(d[b].option_value);
    h.appendChild(e)
  }

  //AJAX wrapper function
  var ajax = function (regData, callback){
    var sendString = "";
    for (var prop in regData){
      if (regData.hasOwnProperty(prop)){
        sendString += (sendString == "" ? "" : "&")+prop+"="+encodeURIComponent(regData[prop]);
      }
    }
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www.neobael.com/api/");
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.onload = function (){
      if (xhr.status === 200) {
        var result = JSON.parse(xhr.responseText);
        callback(result);
      }else{
        //registration failed because of network problems
        callback({"status":"fail", "resp":result});
      }
    }
    xhr.send(sendString);
  };

  //Function to select the dropdown box entry
  var setCountry = function(cc){
    if (!cc)
      return;
    for (let i=0; i < h.length; i++){
      if (cc.toUpperCase() == h[i].value.toUpperCase()){
        h.selectedIndex = i;
        break;
      }
    }
  };

  //Save the internet, query once per device only pls, assume the same every time afterwards
  if (typeof localStorage == "object" && typeof localStorage.getItem == "function" && typeof localStorage.getItem("country_code") == "string"){
    //use the variable from local storage
    setCountry(localStorage.getItem("country_code"));
  }else{
    //hit the API to do the country detection
    ajax({action: "clientgeoip"}, function(res){
      if (res.status=="ok"){
        if (typeof localStorage == "object" && typeof localStorage.setItem == "function")
        localStorage.setItem("country_code", res.geo.country_code);
        setCountry(res.geo.country_code);
      }
    });
  }
})(window["imports"]);
